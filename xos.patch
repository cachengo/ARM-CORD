diff --git a/containers/xos/Dockerfile.base b/containers/xos/Dockerfile.base
index 19359f7..96c1072 100644
--- a/containers/xos/Dockerfile.base
+++ b/containers/xos/Dockerfile.base
@@ -27,16 +27,37 @@ RUN apt-get update && apt-get install -y \
     python-pip \
     software-properties-common \
     sshpass \
- && apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 \
-    --recv-keys 46095ACC8548582C1A2699A9D27D666CD88E42B4 \
- && echo "deb https://artifacts.elastic.co/packages/6.x/apt stable main" | \
-    tee -a /etc/apt/sources.list.d/elastic-6.x.list \
- && apt-get update \
- && apt-get install -y filebeat \
- && update-rc.d filebeat defaults 95 10 \
- && rm -rf /var/lib/apt/lists/* \
- && mkdir /var/xos \
- && pip freeze > /var/xos/pip_freeze_apt_`date -u +%Y%m%dT%H%M%S`
+    git \
+    libpcap-dev \
+    libffi-dev \
+    python-dev
+
+
+# Install Go
+RUN export aarch=`dpkg --print-architecture` \
+    && export gotar=go1.10.1.linux-${aarch}.tar.gz \
+    && curl -O https://storage.googleapis.com/golang/$gotar \
+    && tar -xvf $gotar \
+    && mv go /usr/local \
+    && rm $gotar
+
+# Build filebeats
+RUN export PATH=$PATH:/usr/local/go/bin \
+    && go get github.com/elastic/beats/... \
+    && cd ~/go/src/github.com/elastic/beats/filebeat/ \
+    && ls \
+    && git checkout "v6.1.1" \
+    && GOARCH=$aarch go build \
+    && cp filebeat /usr/bin \
+    && cp ~/go/src/github.com/elastic/beats/dev-tools/packer/platforms/debian/init.j2 /etc/init.d/filebeat \
+    && sed -i 's/{{.beat_pkg_name}}/filebeat/g' /etc/init.d/filebeat \
+    && sed -i 's/{{.beat_name}}/filebeat/g' /etc/init.d/filebeat \
+    && sed -i 's/{{.beat_description}}/sends log files to Elastic Search/g' /etc/init.d/filebeat \
+    && update-rc.d filebeat defaults 95 10 \
+    && rm -rf /var/lib/apt/lists/* \
+    && mkdir /var/xos
+
+RUN pip freeze > /var/xos/pip_freeze_apt_`date -u +%Y%m%dT%H%M%S`
 
 # Configure filebeat to collect json data
 COPY filebeat.yml /etc/filebeat/filebeat.yml
